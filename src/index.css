@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased font-sans relative overflow-x-hidden min-h-screen;
  }
}

@layer utilities {
  /* Dark Mode Glass Scrollbars */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-slate-300 rounded-full transition-colors;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400;
  }
  
  /* Hide scrollbar completely but allow scrolling (for clean sidebars) */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
}

/* ==============================================================
   ACCESSIBILITY & DISPLAY MODIFIERS
   (Applied globally via HTML data attributes)
   ============================================================== */

/* 1. TEXT SIZE SETTINGS */
html[data-text-size="large"] {
  font-size: 18px; /* Increases root rem size, scaling the whole UI up */
}
html[data-text-size="extra_large"] {
  font-size: 20px;
}

/* 2. HIGH CONTRAST SETTINGS */
html[data-contrast="high"] body {
  /* Increases global contrast ratio, making text sharper and borders darker */
  filter: contrast(1.15) saturate(1.1);
}

/* 3. REDUCE MOTION SETTINGS */
html[data-reduce-motion="true"] *, 
html[data-reduce-motion="true"] *::before, 
html[data-reduce-motion="true"] *::after {
  /* Instantly kills all CSS animations, pulses, bounces, and transitions */
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* 4. DARK MODE ENGINE (Smart Color Inversion) 
   Because the app is built on a beautiful white/grey aesthetic (bg-white, text-slate-800), 
   we use a smart CSS inversion engine to create a perfect dark mode instantly without rewriting Tailwind classes.
*/
html[data-theme="dark"] body {
  filter: invert(1) hue-rotate(180deg);
  background-color: #0f172a; /* Slate 900 background */
}

/* We must un-invert images, profile pictures, and videos so they look normal in Dark Mode */
html[data-theme="dark"] img,
html[data-theme="dark"] video,
html[data-theme="dark"] [style*="background-image"] {
  filter: invert(1) hue-rotate(180deg);
}